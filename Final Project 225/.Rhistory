#read in data of county level
state_pop <- read.csv('data/state-pop-10-16/state_est_10-16clean.csv')
View(state_pop)
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
View(county_pop)
#clean county_pop data
county_pop <- county_pop %>% select(-c(SUMLEV, REGION))
View(county_pop)
#clean county_pop data
county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY))
#clean county_pop data
county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY))
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
#clean county_pop data
county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY))
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY))
View(c_county_pop)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000))
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP))
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP),
EST_JUL_2007, EST_JUL_2008, EST_JUL_2009, EST_JUL_2010)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP),
EST_JUL_2007, EST_JUL_2008, EST_JUL_2009, EST_JUL_2010)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP)) %>% select( EST_JUL_2007, EST_JUL_2008, EST_JUL_2009, EST_JUL_2010)
View(c_county_pop)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP)))
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP))
View(c_county_pop)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006))
View(c_county_pop)
View(state_pop)
c_county_pop <- county_pop %>% filter(STNAME == CTYNAME)
c_county_pop <- c_county_pop %>% filter(STNAME == CTYNAME)
c_county_pop <- c_county_pop %>% filter(STNAME == CTYNAME)
c_county_pop <- c_county_pop %>% filter(STNAME %in% CTYNAME)
View(c_county_pop)
c_county_pop <- c_county_pop %>% filter(!STNAME %in% CTYNAME)
c_county_pop <- c_county_pop %>% filter(STNAME %in% CTYNAME)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006))
c_county_pop <- c_county_pop %>% filter(STNAME %in% CTYNAME)
View(county_pop)
c_county_pop <- c_county_pop %>% filter(STNAME == CTYNAME)
c_county_pop <- c_county_pop %>% filter(CTYNAME == STNAME)
c_county_pop <- c_county_pop[c_county_pop$STNAME==c_county_pop$CTYNAME]
View(county_pop)
View(state_pop)
print(c_county_pop$STNAME)
if(c_county_pop$STNAME == c_county_pop$CTYNAME) {
print(c_county_pop$STNAME)
}
if(c_county_pop$STNAME == c_county_pop$CTYNAME) {
print(c_county_pop$STNAME)
}
c_county_pop %>% filter(c_county_pop$STNAME == c_county_pop$CTYNAME)
c_county_pop %>% group_by(STATE)
c_county_pop %>% group_by(STNAME)
t <- c_county_pop %>% group_by(STNAME)
View(t)
t <- c_county_pop %>% group_by(STNAME) %>% aggregate(testsum = sum(EST_JUL_2010))
t <- c_county_pop %>% group_by(STNAME) %>% aggregate(testsum = EST_JUL_2010, FUN=sum)
t <- c_county_pop %>% group_by(STNAME) %>% summarise(testsum = sum(EST_JUL_2010))
View(t)
t[1:1]
t[1:2]
t[,2]
t['Alabama']
9570596 - 4785298
t <- c_county_pop %>% group_by(STNAME) %>% summarise(sum = EST_JUL_2010)
t <- c_county_pop %>% group_by(STNAME)
View(t)
print("Trst")
t <- c_county_pop %>% filter(!(STNAME %in% CTYNAME))
t <- c_county_pop
t <- c_county_pop %>% filter(CTYNAME != STNAME)
t <- c_county_pop
View(t)
state <- as.list(unique(STNAME))
state <- as.list(unique(STNAME))
state <- as.list(unique(t$STNAME))
lapply(t, FUN=filter)
t$STNAME[1]
t$STNAME[1:4]
t <- c_county_pop %>% filter_if(STNAME = CTYNAME)
t <- c_county_pop %>% filter_if(STNAME == CTYNAME)
t <- c_county_pop %>% filter_if(CTYNAME == STNAME)
t %>% filter_if(CTYNAME == STNAME)
t %>% filter_if(t$CTYNAME == t$STNAME)
t <- c_county_pop %>% rename(STNAME = state)
t <- c_county_pop %>% rename(STNAME = state.name)
t <- c_county_pop %>% rename(state = STNAME
t <- c_county_pop %>% rename(state = STNAME)
t <- c_county_pop %>% rename(state = STNAME)
t <- c_county_pop %>% rename(state = STNAME, city = CTYNAME)
t %>% filter_if(city != state)
filter_if(t, city != state)
state_name <- as.list(unique(t$STNAME))
t %>% filter(city %in% state_name)
t <- c_county_pop %>% rename(state = STNAME, city = CTYNAME)
state_name <- as.list(unique(t$STNAME))
t %>% filter(city %in% state_name)
t %>% filter(city %in% state)
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006)
) %>% rename(state = STNAME, city = CTYNAME)
c_county_pop %>% filter(city %in% state)
t <- c_county_pop %>% filter(city %in% state)
View(t)
#read in data of county level
state_pop <- read.csv('data/state-pop-10-16/state_est_10-16clean.csv')
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
#clean county_pop data
c_county_pop <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006)
) %>% rename(state = STNAME, city = CTYNAME)
t <- c_county_pop %>% filter(city %in% state)
View(t)
View(state_pop)
state_pop %>% rename(state = GEO.display.label)
#clean county_pop data
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006)
) %>% rename(state = STNAME, city = CTYNAME)
t <- c_county %>% filter(city %in% state)
c_state <- state_pop %>% rename(state = GEO.display.label)
#clean county_pop data
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006)
) %>% rename(state = STNAME, city = CTYNAME
) %>% filter(city %in% state)
View(c_county)
c_state <- state_pop %>% rename(state = GEO.display.label)
library(dplyr)
library(tidyverse)
#read in data of county level
state_pop <- read.csv('data/state-pop-10-16/state_est_10-16clean.csv')
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
#clean county_pop data
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003, EST_JUL_2004,
EST_JUL_2005, EST_JUL_2006)
) %>% rename(state = STNAME, city = CTYNAME
) %>% filter(city %in% state)
c_state <- state_pop %>% rename(state = GEO.display.label)
View(c_state)
#clean county_pop data
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003,
EST_JUL_2004, EST_JUL_2005, EST_JUL_2006)
) %>% rename(state = STNAME, city = CTYNAME
) %>% filter(city %in% state) %>% select(-city)
View(c_county)
View(county_pop)
c_county[!duplicated(c_county$state)]
c_county[!duplicated(state)]
c_county[!duplicated(c_county$state), ]
c_count <- c_county[!duplicated(c_county$state), ]
c_county <- c_county[!duplicated(c_county$state), ]
View(c_state)
c_state <- state_pop %>% rename(state = GEO.display.label) %>% select(-paste("Puerto", "Rico"))
c_state <- state_pop %>% rename(state = GEO.display.label)
c_state <- state_pop %>% rename(state = GEO.display.label) %>% filter(state != "Puerto Rice")
c_state <- state_pop %>% rename(state = GEO.display.label) %>% filter(state != "Puerto Rico")
View(c_state)
#clean county_pop data
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003,
EST_JUL_2004, EST_JUL_2005, EST_JUL_2006, EST_JUL_2010)
) %>% rename(state = STNAME, city = CTYNAME
) %>% filter(city %in% state) %>% select(-city)
c_county <- c_county[!duplicated(c_county$state), ]
c_state <- state_pop %>% rename(state = GEO.display.label) %>% filter(state != "Puerto Rico")
merge(x = c_state, y = c_county)
t <-merge(x = c_state, y = c_county)
View(t)
t <-merge(x = c_county , y =c_state)
View(t)
t <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2))
write.csv(full_data,
"~/Desktop/soc225/Final Project 225/clean_output/state-pop-07-16.csv",
row.names =FALSE)
full_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2))
write.csv(full_data,
"~/Desktop/soc225/Final Project 225/clean_output/state-pop-07-16.csv",
row.names =FALSE)
#read in data of county level
state_pop <- read.csv('data/state-pop-10-16/state_est_10-16clean.csv')
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
library(dplyr)
library(dplyr)
library(tidyverse)
#read in data of county level
state_pop <- read.csv('data/state-pop-10-16/state_est_10-16clean.csv')
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
#clean county_pop data
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003,
EST_JUL_2004, EST_JUL_2005, EST_JUL_2006, EST_JUL_2010)
) %>% rename(state = STNAME, city = CTYNAME
) %>% filter(city %in% state) %>% select(-city)
c_county <- c_county[!duplicated(c_county$state), ]
c_state <- state_pop %>% rename(state = GEO.display.label) %>% filter(state != "Puerto Rico")
full_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2))
View(full_data)
library(tidyverse)
library(dplyr)
#avg of homeless and unemploy
#load data
data <- read.csv("clean_output/jointed.csv")
avg <- data %>% group_by(state.nam,
state.code
) %>% summarise(mean.homeless = mean(Sum_Total_Homeless),
mean.unemploy = mean(Sum_Unemploy_Rate))
View(avg)
full_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2)) %>%
filter(!state %in% c("Alaska", "District of Columbia", "Florida", "Georgia", "Virginia"))
full_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2)) %>%
filter(!state %in% c("Alaska", "District of Columbia", "Florida", "Georgia"))
write.csv(full_data,
"~/Desktop/soc225/Final Project 225/clean_output/state-pop-07-16.csv",
row.names =FALSE)
#-----------------------------------------
#jointed all the file
avg_df <- read.csv('clean_output/avg-homeless-unemploy.csv')
state_df <- read.csv('clean_output/state-pop-07-16')
library(tidyverse)
library(dplyr)
#-----------------------------------------
#jointed all the file
avg_df <- read.csv('clean_output/avg-homeless-unemploy.csv')
state_df <- read.csv('clean_output/state-pop-07-16')
state_df <- read.csv('clean_output/state-pop-07-16.csv')
View(state_df)
View(avg_df)
jointed <- avg_df %>% left_join(state_df, by= c("state.nam" = "state"))
View(jointed)
#avg of homeless and unemploy data
data <- read.csv("clean_output/jointed.csv")
View(data)
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state"))
View(jointed_a_s)
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state" = "state.name"))
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state" = "state.nam"))
#jointed of average and state data frame
jointed_a_s <- state_df %>% left_join(avg_df, by= c("state" = "state.nam"))
#jointed of average and state data frame
jointed_a_s <- state_df %>% right_join(avg_df, by= c("state" = "state.nam"))
.na
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state"))
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")) %>% rename("state" = "state.nam")
#AL and AZ
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ"))
View(test_a_s)
test_data <- data %>% filter(state.code %in% c("AL", "AZ"))
View(test_data)
test_jointed <- merge(test_a_s, test_data)
View(test_jointed)
test_jointed <- merge(test_a_s, test_data, by = "state.code")
full_join(test_a_s, test_data, by = c("state" = "state.nam"))
test_jointed <- full_join(test_a_s, test_data, by = c("state" = "state.nam"))
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ"))
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL"))
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL")))
test_data <- data %>% filter(state.code %in% c("AL"))
test_data <- t(data %>% filter(state.code %in% c("AL")))
#AL and AZ
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ"))
test_data <- data %>% filter(state.code %in% c("AL", "AZ"))
test_data <- t(data %>% filter(state.code %in% c("AL")))
t <- test_data %>% select(-state.nam)
t <- test_data %>% select(-c(state.nam))
t <- test_data %>% select(-c("state.nam"))
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL")))
test_data <- (data %>% filter(state.code %in% c("AL")))
test_jointed <- full_join(test_a_s, test_data)
test_jointed <- merge(test_a_s, test_data)
View(test_jointed)
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL")))
test_data <- (data %>% filter(state.code %in% c("AL")))
#AL and AZ
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ"))
test_data <- data %>% filter(state.code %in% c("AL", "AZ"))
colnames(test_a_s)
colnames(test_a_s)[4, ]
as.list(colnames(test_a_s))[4, ]
as.list(colnames(test_a_s))[2, ]
as.vector(colnames(test_a_s))[3,]
as.vector(colnames(test_a_s))
as.vector(colnames(test_a_s))[5]
as.vector(colnames(test_a_s))[5, 15]
as.vector(colnames(test_a_s))[5:15]
as.vector(colnames(test_a_s))[5:14]
as.list(colnames(test_a_s))[5:14]
as.vector(colnames(test_a_s))[5:14]
as.character(colnames(test_a_s))[5:14]
gsub("EST_JUL_", "", as.character(colnames(test_a_s))[5:14]
gsub("EST_JUL_", "", as.character(colnames(test_a_s)))[5:14]
gsub("EST_JUL_", "", as.character(colnames(test_a_s)))[5:14]
as.numeric(gsub("EST_JUL_", "", as.character(colnames(test_a_s)))[5:14])
test_a_s <- test_a_s %>% select(-c(mean.homeless, mean.unemploy))
test_a_s <- t(test_a_s %>% select(-c(mean.homeless, mean.unemploy)))
#AL and AZ
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ"))
test_a_s <- t(test_a_s %>% select(-c(mean.homeless, mean.unemploy)))
s <- test_a_s %>% select(state)
#AL and AZ
test_a_s <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ"))
test_data <- data %>% filter(state.code %in% c("AL", "AZ"))
test_jointed <- full_join(test_a_s, test_data)
View(test_jointed)
library(tidyverse)
library(dplyr)
#data frame of homeless and unemploy sum rate
data <- read.csv("clean_output/jointed.csv")
#-----------------------------------------
#jointed all the file
avg_df <- read.csv('clean_output/avg-homeless-unemploy.csv')
state_df <- read.csv('clean_output/state-pop-07-16.csv')
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")
) %>% rename("state" = "state.nam")
library(tidyverse)
library(dplyr)
#data frame of homeless and unemploy sum rate
data <- read.csv("clean_output/jointed.csv")
#-----------------------------------------
#jointed all the file
avg_df <- read.csv('clean_output/avg-homeless-unemploy.csv')
state_df <- read.csv('clean_output/state-pop-07-16.csv')
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")
) %>% rename("state" = "state.nam")
t_avg <- jointed_a_s %>% filter(state.code %in% c("AL"))
t_data <- data %>% filter(state.code %in% c("AL"))
View(t_avg)
View(t_data)
test <- left_join(t_avg, t_datam by = c("state" = "state.nam"))
t_data <- data %>% filter(state.code %in% c("AL")) %>% rename(state = state.nam)
test <- left_join(t_avg, t_datam by = state)
test <- left_join(t_avg, t_data, by = state)
t_avg <- jointed_a_s %>% filter(state.code %in% c("AL"))
t_data <- data %>% filter(state.code %in% c("AL")) %>% rename(state = state.nam)
test <- left_join(t_avg, t_data, by = state)
test <- left_join(t_avg, t_data, by = "state")
View(test)
t_avg <- jointed_a_s %>% filter(state.code %in% c("AL")) %>% rename(code = state.code)
t_data <- data %>% filter(state.code %in% c("AL")) %>% rename(state = state.nam,
code = state.code)
test <- left_join(t_avg, t_data, by = "state")
t_avg <- jointed_a_s %>% filter(state.code %in% c("AL")) %>% select(-state.code)
t_data <- data %>% filter(state.code %in% c("AL")) %>% rename(state = state.nam)
test <- left_join(t_avg, t_data, by = "state")
test <- left_join(t_data, t_avg, by = "state")
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL")))
View(test_a_s)
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL"))) %>% row.names(FALSE)
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL"))) %>% select(-state)
test_a_s <- t(jointed_a_s %>% filter(state.code %in% c("AL"))) %>% select_(-state)
test %>% gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016)
library(tidyverse)
test %>% gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016)
x <- test %>% gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016)
View(x)
x$Year
x %>% filter(year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`)))
x %>% filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`)))
x <- x %>% filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`)))
View(jointed_a_s)
View(data)
x <- test %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(meam_homeless_07:16 = mean.homeless)
x <- test %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(meam_homeless_07_16 = mean.homeless)
x <- test %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(meam_homeless_07to16 = mean.homeless)
x <- test %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(avg_homeless_07to16 = mean.homeless,
avg_unemploy_07to16 = mean.unemploy)
library(tidyverse)
library(dplyr)
#as.numeric(gsub("EST_JUL_", "", as.character(colnames(test_a_s)))[5:14])
t_avg <- jointed_a_s %>% filter(state.code %in% c("AL", "AZ")) %>% select(-state.code)
t_data <- data %>% filter(state.code %in% c("AL", "AZ")) %>% rename(state = state.nam)
test <- left_join(t_data, t_avg, by = "state")
x <- test %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(avg_homeless_07to16 = mean.homeless,
avg_unemploy_07to16 = mean.unemploy)
View(t_avg)
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")
) %>% rename("state" = "state.nam") %>% select(-state.code)
View(jointed_a_s)
n_data <- data %>% rename(state = state.nam)
View(n_data)
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")
) %>% rename("state" = "state.nam")
View(jointed_a_s)
View(n_data)
n_jointedA&S <- jointed_a_s %>% select(-stat.code)
e
n_jointedA&S <- jointed_a_s %>% select(-state.code)
n_data <- data %>% rename(state = state.nam)
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")
) %>% rename("state" = "state.nam")
n_jointedA&S <- jointed_a_s %>% select(-state.code)
n_jointedA&S <- jointed_a_s %>% select(-state.code)
n_jointedA_S <- jointed_a_s %>% select(-state.code)
n_data <- data %>% rename(state = state.nam)
View(n_jointedA_S)
full_jointed <- left_join(n_data, n_jointedA_S, by = "state")
View(full_jointed)
y <- full_jointed %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(avg_homeless_07to16 = mean.homeless,
avg_unemploy_07to16 = mean.unemploy)
View(y)
View(x)
write.csv(y,
"~/Desktop/clean_output/data.csv",
row.names =FALSE)
write.csv(y,
"~/Desktop/clean_output/data.csv",
row.names =FALSE)
dir.create("~/Desktop/data/")
write.csv(y,
"~/Desktop/clean_output/data.csv",
row.names =FALSE)
write.csv(y,
"~/Desktop/data/data.csv",
row.names =FALSE)
#master data frame
write.csv(y,
"~/Desktop/FinalProjectSOC225/Final Project 225/clean_output/data.csv",
row.names =FALSE)
library(tidyverse)
library(dplyr)
#data frame of homeless and unemploy sum rate
data <- read.csv("clean_output/jointed.csv")
#Creating master data frame - joint all the file
avg_df <- read.csv('clean_output/avg-homeless-unemploy.csv')
state_df <- read.csv('clean_output/state-pop-07-16.csv')
#jointed of average and state data frame
jointed_a_s <- avg_df %>% left_join(state_df, by= c("state.nam" = "state")
) %>% rename("state" = "state.nam")
n_jointedA_S <- jointed_a_s %>% select(-state.code)
n_data <- data %>% rename(state = state.nam)
full_jointed <- left_join(n_data, n_jointedA_S, by = "state")
#re-structure the population format in a way that is not repeated more than due to the
#way of the other data frame structure.
y <- full_jointed %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
rename(avg_homeless_07to16 = mean.homeless,
avg_unemploy_07to16 = mean.unemploy)
#master data frame
write.csv(y,
"~/Desktop/FinalProjectSOC225/Final Project 225/clean_output/data.csv",
row.names =FALSE)
