colnames(region) <- tolower(colnames(region))
join <- suppressWarnings(suppressMessages(master_data %>% left_join(region, by = "state")))
View(join)
colnames(join)
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
tota.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion)
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion)
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
#View(master_data)
kable(master_data %>% head(5), column_spec(2:3, width = "5cm"))
#View(master_data)
kable(master_data %>% head(5))
kable(join %>% head(5))
region <- read.csv('/census-regions-master/us census bureau regions and divisions.csv')
region <- read.csv('census-regions-master/us census bureau regions and divisions.csv')
kable(join %>% head(5))
kable(join %>% head(5))
ggplot(join, aes(x=sum_unemploy_rate, y=sum_total_homeless, colour = region)) +
geom_point() +
facet_wrap(~region, scales ="free") +
geom_smooth(fullrange = TRUE, method = "lm") +
labs(title = "Unemployment and Homelessness of US Regions") +
xlab("Unemployment Rate") +
ylab("Homelessness") +
theme(axis.title.y = element_text(margin = margin(r = 20)),
axis.title.x = element_text(margin = margin(t = 10)),
strip.text.x = element_blank())
ggplot(join, aes(x=unemploy.rate_sum, y= total.homeless_sum, colour = region)) +
geom_point() +
facet_wrap(~region, scales ="free") +
geom_smooth(fullrange = TRUE, method = "lm") +
labs(title = "Unemployment and Homelessness of US Regions") +
xlab("Unemployment Rate") +
ylab("Homelessness") +
theme(axis.title.y = element_text(margin = margin(r = 20)),
axis.title.x = element_text(margin = margin(t = 10)),
strip.text.x = element_blank())
ggplot(join %>% filter(state.code %in% c("CA", "WA", "TX", "MD", "NY", "PA", "WI", "MO")),
aes(unemploy_proportion, homeless_proportion, colour = region)) +
geom_point() +
labs(title = "Relationship between Unemployment and Homeless Proportion") +
xlab("Unemployment Proportion") +
ylab("Homeless Proportion")
ggplot(join %>% filter(state.code %in% c("CA", "TX", "NY", "WA"))) +
geom_line(aes(year, sum_unemploy_rate, colour = state)) +
labs(title = "Unemployment Rate from 2007 to 2016 in the US") +
xlab("Year") +
ylab("Unemployment Rate")
ggplot(join %>% filter(state.code %in% c("CA", "TX", "NY", "WA"))) +
geom_line(aes(year, unemploy.rate_sum, colour = state)) +
labs(title = "Unemployment Rate from 2007 to 2016 in the US") +
xlab("Year") +
ylab("Unemployment Rate")
kable(join %>% head(5), bootstrap_options = "striped", full_width = F, position = "left")
kable(join %>% head(5), bootstrap_options = "striped", full_width = F, position = "left") %>%
rename(c("state code" = "state.code", "estimate population" = "est_pop"))
kable(join %>% head(5), bootstrap_options = "striped", full_width = F, position = "left") %>%
dplyr::rename(c("state code" = "state.code",
"estimate population" = "est_pop"))
kable(join %>% rename("state code" = "state.code") %>% head(5), bootstrap_options = "striped", full_width = F, position = "left")
kable(join %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5),
bootstrap_options = "striped", full_width = F, position = "left")
kable(pop_data %>% gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>% head(5))
kable(pop_data %>% gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>% head(5))
kable(avg %>% rename("state code" = "state.code",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state") %>% head(5))
kable(pop_data %>% head(5))
colnames(pop_data) <- gsub("EST_JUL_", "EST JUL",colnames(pop_data))
kable(pop_data %>% head(5))
colnames(pop_data) <- gsub("EST_JUL_", "EST JUL ",colnames(pop_data))
kable(pop_data %>% head(5))
#merging population measurement together from 2006 - 2009, and 2010 - 2016 from two different
#data frame.
pop_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2)) %>%
filter(!state %in% c("Alaska", "District of Columbia", "Florida", "Georgia"))
#merging population measurement together from 2006 - 2009, and 2010 - 2016 from two different
#data frame.
pop_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2)) %>%
filter(!state %in% c("Alaska", "District of Columbia", "Florida", "Georgia"))
kable(pop_data %>%  gsub("EST_JUL_", "EST JUL ",colnames(pop_data)) %>% head(5))
kable(colnames(pop_data) %>%  gsub("EST_JUL_", "EST JUL ",colnames(pop_data)) %>% head(5))
kable(colnames(pop_data) %>%  gsub("EST_JUL_", "EST JUL ",colnames(pop_data)) %>% head(5))
colnames(pop) <- gsub("EST_JUL_", "EST JUL ",colnames(pop))
kable(pop %>% head(5))
pop <- pop_data
colnames(pop) <- gsub("EST_JUL_", "EST JUL ",colnames(pop))
kable(pop %>% head(5))
pop <- pop_data
colnames(pop) <- gsub("EST_JUL_", tolower("EST JUL "),colnames(pop))
kable(pop %>% head(5))
test <- "Art.dfsdg-"
gsub("[^.-]", "", test)
gsub("[^.-]", "", test)
gsub("[^.]", "", test)
gsub(".-", "", test)
gsub("|.-", "", test)
gsub("\\.-", "", test)
gsub("|\\.-", "", test)
gsub("^\\.-", "", test)
gsub("^\\w.-", "", test)
gsub("\\.\\-", "", test)
gsub(".-", "", test)
gsub("\.-", "", test)
gsub(".-", "", test)
gsub([:punct:], "", test)
gsub("[:punct:]", "", test)
grep("[:punct:]", "", test)
grep("\\-", "", test)
gsub("\\-", "", test)
gsub("\\-\\.", "", test)
gsub("\\-.", "", test)
gsub('[[:punct:] ]+',' ',test)
#turn all colnames to lower case for easy access
master_dat <- master_data
colnames(master_dat) <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
'[[:punct:] ]+',' ',
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
kable(master_dat %>% head(5))
colnames(master_dat) <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
View(master_dat)
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
kable(master_dat %>% head(5))
region <- read.csv('census-regions-master/us census bureau regions and divisions.csv')
#restructure
master_data <- x %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
mutate(homeless_proportion = total.homeless_sum / Estimate,
unemploy_proportion = unemploy.rate_sum/ Estimate) %>%
select(-c("Estimate Date")) %>% rename(est_pop = Estimate)
#turn all colnames to lower case for easy access
master_dat <- master_data
colnames(master_dat) <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
kable(master_dat %>% head(5))
colnames(master_dat).strip() <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
colnames(master_dat).str.strip() <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
colnames(master_dat) <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
kable(master_dat %>% head(5))
#turn all colnames to lower case for easy access
master_dat <- master_data
colnames(master_dat) <- gsub('[[:punct:] ]+',' ',tolower(colnames(master_dat)))
colnames(master_dat) <- gsub('[[:punct:] ]+',' ',colnames(master_dat))
region <- read_csv('census-regions-master/us census bureau regions and divisions.csv')
colnames(master_dat) <- gsub('[.]',' ',colnames(master_dat))
#turn all colnames to lower case for easy access
#View(master_data)
kable(master_data %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(knitr)
homeless <- read.csv('data/homelessness/2007-2016-Homelessnewss-USA.csv')
#note: the count value is not the rate.
#cleaning text - change the year to actual year in numeric bc it is in 1/1/YYYY format
homeless$Year <- as.numeric(gsub("1/1/", "",as.character(homeless$Year)))
#global variable - because this will be use more often through out the file
years <- sort(as.array(unique(homeless$Year)))
#Looking the data measure at "Total Homeless" (t.h) level-----------------------------------------
#calculate the sum of the totalhomeless count by year and state; and droping
#these states from total homeless count because the unemployment does not has
#data about these states.
totalHomeless_sum <- homeless %>% filter(Measures == 'Total Homeless') %>% arrange(State) %>%
group_by(Year, State) %>%
summarise(total.homeless_sum = sum(as.numeric(gsub(",","",Count)))) %>%
filter(!State %in% c("AK", "DC", "FL", "GA", "GU", "PR", "VI"))
kable(totalHomeless_sum %>% head(5))
#load in data-------------------------------------------------
unemployment <- read.csv('data/unemployment-by-county-us/output.csv')
#load in data-------------------------------------------------
unemployment <- read.csv('data/unemployment-by-county-us/output.csv')
#filter the data down to january level to match with the way homeless data was structure
unemploy_2007.2016 <- unemployment %>% filter(Year >= 2007, Month == 'January')
#the function will take it a state name and filter the dataframe to only that state leve
#and then loops through each year to find the sum of those year in one dataframe for
#for one state (of the county level)
addSumRateState <- function(name) {
df <- unemploy_2007.2016 %>% filter(State == name)
res <- c()
for(i in years) {
year_df <- df %>% filter(Year == i)
res <- c(res,sum(year_df$Rate))
}
new_df <- data.frame(Year = years, State = name,
unemploy.rate_sum = res)
return(new_df)
}
#return a dataframe from 2007 to 2016 of each state unemployrate by year.
unemployRate_sum <- lapply(sort(unique(unemploy_2007.2016$State)), FUN=addSumRateState) %>% bind_rows()
#return a dataframe from 2007 to 2016 of each state unemployrate by year.
unemployRate_sum <- lapply(sort(unique(unemploy_2007.2016$State)), FUN=addSumRateState) %>% bind_rows()
kable(unemployRate_sum %>% head(5))
#the reason a state-code data frame was create to make sure when merge
#homeless data and unemploy together, the data will go according to the state
#since the way the data structure is completely different
state_code <- data.frame(state.code = state.abb, state.nam = state.name) %>%
filter(!state.abb %in% c("FL", "AK", "GA"),
!state.name %in% c("Florida", "Alaska", "Georgia"))
totalHomeless_sum <- totalHomeless_sum %>% rename(state.code = State)
#merge homeless data with state code first
jointed_homeless_unemploy <- merge(x= totalHomeless_sum, y= state_code, all.x=TRUE)
#then merge unemploy after it - to prevent error
unemployRate_sum <- unemployRate_sum %>% rename(state.nam = State) #for merging purpose
jointed_homeless_unemploy <- merge(x = jointed_homeless_unemploy, y = unemployRate_sum) %>% arrange(state.nam)
#calculating avg of homeless and unemploy data
avg <- jointed_homeless_unemploy %>% group_by(state.nam, state.code) %>%
mutate(mean.homeless.state = mean(total.homeless_sum),
mean.unemploy.state = mean(unemploy.rate_sum)) %>% rename(state = state.nam)
kable(avg %>% rename("state code" = "state.code",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state") %>% head(5))
#load data
state_pop <- read.csv('data/state-pop-10-16/state_est_10-16clean.csv')
county_pop <- read.csv('data/county-00-10/clean-county-00-10.csv')
#data preference note.
#T population on county file in 2010 is different in county population and state file.
#I chose state file because it seem like it was more updated since it was follow after
#from 2010 to 2016 and for the county file it was from 2000 - 2010
#---
#clean county population data, dropped 2001 - 2006 and 2010, because the data
#with homeless and unemployment measure go from 2007 to 2016; also due to the way
#the population data is gathered. Dropped city column because we only look at
#state level (since the file did included total population of state from 2000 - 2010) .
c_county <- county_pop %>% select(-c(SUMLEV, REGION, DIVISION, STATE, COUNTY,
ESTIMATESBASE2000, CENSUS2010POP, EST_JUL_2000,
EST_JUL_2001, EST_JUL_2002, EST_JUL_2003,
EST_JUL_2004, EST_JUL_2005, EST_JUL_2006, EST_JUL_2010)
) %>% rename(state = STNAME, city = CTYNAME
) %>% filter(city %in% state) %>% select(-city)
#filtered out any state data that was repeated more than one time.
c_county <- c_county[!duplicated(c_county$state), ]
#dropped Puerto Rico data due to the structure of homeless and unemployment data frames.
c_state <- state_pop %>% rename(state = GEO.display.label) %>% filter(state != "Puerto Rico")
#merging population measurement together from 2006 - 2009, and 2010 - 2016 from two different
#data frame.
pop_data <-merge(x = c_county , y =c_state) %>% select(-c(GEO.id, GEO.id2)) %>%
filter(!state %in% c("Alaska", "District of Columbia", "Florida", "Georgia"))
pop <- pop_data
colnames(pop) <- gsub("EST_JUL_", tolower("EST JUL "),colnames(pop))
kable(pop %>% head(5))
#join AVG, UNEMPLOY, HOMELESS, POPULATION, YEAR, STATE data frame together
x <- suppressWarnings(suppressMessages(left_join(avg, pop_data, by = "state")))
#restructure
master_data <- x %>%
gather(key = "Estimate Date", value = "Estimate", EST_JUL_2007:EST_JUL_2016) %>%
filter(Year == as.numeric(gsub("EST_JUL_", "",`Estimate Date`))) %>%
mutate(homeless_proportion = total.homeless_sum / Estimate,
unemploy_proportion = unemploy.rate_sum/ Estimate) %>%
select(-c("Estimate Date")) %>% rename(est_pop = Estimate)
#turn all colnames to lower case for easy access
#View(master_data)
kable(master_data %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5))
region <- read.csv('census-regions-master/us census bureau regions and divisions.csv')
colnames(region) <- tolower(colnames(region))
join <- suppressWarnings(suppressMessages(master_data %>% left_join(region, by = "state")))
#View(join)
#restructure
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
kable(join %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5),
bootstrap_options = "striped", full_width = F, position = "left")
join <- suppressWarnings(suppressMessages(master_data %>% left_join(region, by = "state")))
i
#View(join)
#restructure
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
region <- read.csv('census-regions-master/us census bureau regions and divisions.csv')
colnames(region) <- tolower(colnames(region))
join <- suppressWarnings(suppressMessages(master_data %>% left_join(region, by = "state")))
#View(join)
#restructure
join <- join %>% select(Year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
kable(join %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5),
bootstrap_options = "striped", full_width = F, position = "left")
colnames(master_data) <- tolower(colnames(master_data))
#turn all colnames to lower case for easy access
#View(master_data)
kable(master_data %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5))
region <- read.csv('census-regions-master/us census bureau regions and divisions.csv')
colnames(region) <- tolower(colnames(region))
join <- suppressWarnings(suppressMessages(master_data %>% left_join(region, by = "state")))
#View(join)
#restructure
join <- join %>% select(Year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
#View(join)
#restructure
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
kable(join %>% rename("state code" = "state.code",
"est. population" = "est_pop",
"homeless sum" = "total.homeless_sum",
"unemploy sum" = "unemploy.rate_sum",
"homeless mean" = "mean.homeless.state",
"unemploy mean" = "mean.unemploy.state",
"homeless proportion" = "homeless_proportion",
"unemploy proportion" = "unemploy_proportion") %>% head(5),
bootstrap_options = "striped", full_width = F, position = "left")
ggplot(join, aes(x=unemploy.rate_sum, y= total.homeless_sum, colour = region)) +
geom_point() +
facet_wrap(~region, scales ="free") +
geom_smooth(fullrange = TRUE, method = "lm") +
labs(title = "Unemployment and Homelessness of US Regions") +
xlab("Unemployment Rate") +
ylab("Homelessness") +
theme(axis.title.y = element_text(margin = margin(r = 20)),
axis.title.x = element_text(margin = margin(t = 10)),
strip.text.x = element_blank())
#turn all colnames to lower case for easy access
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
kable(master <- master_data) %>% head(5))
#turn all colnames to lower case for easy access
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
master <- master_data
kable(colnames(master) <- gsub("[.]", "",colnames(master))) %>% head(5))
#turn all colnames to lower case for easy access
#View(master_data)
# kable(master_data %>% rename("state code" = "state.code",
#                       "est. population" = "est_pop",
#                       "homeless sum" = "total.homeless_sum",
#                       "unemploy sum" = "unemploy.rate_sum",
#                       "homeless mean" = "mean.homeless.state",
#                       "unemploy mean" = "mean.unemploy.state",
#                       "homeless proportion" = "homeless_proportion",
#                       "unemploy proportion" = "unemploy_proportion") %>% head(5))
master <- master_data
kable(colnames(master) <- gsub("[.]", "",colnames(master))) %>% head(5))
kable(colnames(master) <- gsub("[\\.]", "",colnames(master))) %>% head(5))
colnames(master) <- gsub("[\\.]", "",colnames(master))
kable(master) %>% head(5))
kable(master %>% head(5))
colnames(master) <- gsub("[\\.|-]", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("[\\.|_]", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("[\\.\\_]", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("[\\._]", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("[\\.+_]", " ",colnames(master))
colnames(master) <- gsub("[\\.+_]", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("[[:punct:]]+", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("^[[:punct:]]+", " ",colnames(master))
kable(master %>% head(5))
colnames(master) <- gsub("[[:punct:] ]+", " ",colnames(master))
kable(master %>% head(5))
install.packages("stringr")
install.packages("stringr")
library(stringr)
str_replace_all(colnames(master), "[^.-]"," ")
kable(master %>% head(5))
colnames(master) <_ str_replace_all(colnames(master), "[^.-]"," ")
colnames(master) <-str_replace_all(colnames(master), "[^.-]"," ")
kable(master %>% head(5))
colnames(master) <-str_replace_all(colnames(master), "[^.-]"," ")
kable(master %>% head(5))
colnames(master) <- gsub("[[:punct:]]+", " ",colnames(master))
kable(master %>% head(5))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(knitr)
colnames(master) <- gsub("[[:punct:]]+", " ",colnames(master))
kable(master %>% head(5))
#for easy access later
colnames(master_data) <- tolower(colnames(master_data))
master <- master_data #for display purpose
colnames(master) <- gsub("[[:punct:]]+", " ",colnames(master))
kable(master %>% head(5))
summary(join)
summary(join %>% select(total.homeless_sum, unemploy.rate_sum, mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion))
summary(join %>% select(total.homeless_sum, unemploy.rate_sum, mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion))
homeless_proportion, unemploy_proportion, -c(state, state.code))
homeless_proportion, unemploy_proportion)
summary(join %>% select(total.homeless_sum, unemploy.rate_sum, mean.homeless.state, mean.unemploy.state,
summary(join %>% select(total.homeless_sum, unemploy.rate_sum, mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion))
summary(join %>% select(total.homeless_sum, unemploy.rate_sum, mean.homeless.state, mean.unemploy.state,
summary(join %>% select(total.homeless_sum, unemploy.rate_sum, mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion))
summary(join)
summary(join %>% select(-c(year, division)))
summary(join %>% select(-c(year, division, region, state, state.code)))
summary(join %>% select(-c(year, division, region),  -c(state, state.code)))
#View(join)
#restructure
join <- join %>% select(year, division, region, state, state.code.x, est_pop,
total.homeless_sum, unemploy.rate_sum,
mean.homeless.state, mean.unemploy.state,
homeless_proportion, unemploy_proportion) %>% rename(state.code = state.code.x)
