"0","data <- read.csv('~/Desktop/FinalProjectSOC225/Final Project 225/clean_output/data.csv')"
"0","region <- read.csv('~/Desktop/FinalProjectSOC225/Final Project 225/census-regions-master/us census bureau regions and divisions.csv')"
"0","#include homeless and unemployment proportion to the data and "
"0","#using sub_df instead of original data "
"0","sub_df <- data %>% select(Year, state, avg_homeless_07to16, avg_unemploy_07to16,"
"0","                          Sum_Total_Homeless, Sum_Unemploy_Rate, Estimate) %>% "
"0","  mutate(homeless_proportion = Sum_Total_Homeless / Estimate, "
"0","         unemploy_proportion = Sum_Unemploy_Rate / Estimate) %>%"
"0","  arrange(state) "
"0","sub_region <- region %>% rename(""state"" = ""State"") #for binding data frames purposes"
"0","#for scatter plot instead of color by state, color by region. "
"0","#using the region csv files to graph the change of unemployment and homeless"
"0","#overtime without overflowing the graph with too many information. "
"0","join <- suppressWarnings(suppressMessages("
"0","  sub_df %>% left_join(sub_region, by = ""state"") %>% rename(""est_pop"" = ""Estimate""))) "
"0","#ensure all column names are in lower case for easy access. "
"0","colnames(join) <- tolower(colnames(join)) "
"0","#re-order the dataframe"
"0","join <- join %>% select(year, division, region, state, state.code, est_pop, "
"0","                        avg_homeless_07to16, avg_unemploy_07to16, sum_total_homeless, sum_unemploy_rate, "
"0","                        homeless_proportion, unemploy_proportion) "
"0","ggplot(join, aes(x=sum_unemploy_rate, y=sum_total_homeless, colour = region)) +"
"0","  geom_point() + "
"0","  facet_wrap(~region, scales =""free"") + "
"0","  geom_smooth(fullrange = TRUE, method = ""lm"") + "
"0","  labs(title = ""Unemployment and Homelessness of US Regions"") + "
"0","  xlab(""Unemployment Rate"") +"
"0","  ylab(""Homelessness"") +"
"0","  theme(axis.title.y = element_text(margin = margin(r = 20)), "
"0","        axis.title.x = element_text(margin = margin(t = 10)), "
"0","        strip.text.x = element_blank())"
